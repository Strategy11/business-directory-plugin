jQuery(function($){function UserSelector(select,options){return this.$select=$(select),this.options=options,void 0!==this.options&&("ajax"===this.options.mode?this.configureAjaxBehavior():this.configureInlineBehavior())}$.extend(UserSelector.prototype,{configureAjaxBehavior:function(){var self=this,options=$.extend(!0,{},self.options.select2,{ajax:{data:function(params){return params.security=self.options.security,params.listing_id=self.options.listing_id,params},processResults:function(data){return data.status?{results:$.map(data.items,function(item){return{id:item.ID,text:item.user_login}})}:{results:{}}}}});self.$select.selectWoo(options),self.options.selected.id&&(options=new Option(self.options.selected.text,self.options.selected.id,!0,!0),self.$select.append(options).trigger("change")),self.setupEventHandlers()},setupEventHandlers:function(){var self=this;self.$select.on("change.select2",function(){self.onChange()})},configureInlineBehavior:function(){this.$select.selectWoo(this.options.select2),this.setupEventHandlers()},onChange:function(){$.isFunction(this.options.onChange)&&this.options.onChange(this.getSelectedUser())},getSelectedUser:function(){var users=this.$select.selectWoo("data");return users&&users.length?{id:users[0].id,name:users[0].text}:{id:0,name:""}},clearSelectedUser:function(){this.$select.val(null).trigger("change")}}),$(document).ready(function(){0<($userSelect=$("#wpbdp-listing-owner").find(".wpbdp-user-selector")).length&&($userSelector=new UserSelector($userSelect,$userSelect.data("configuration")))})});