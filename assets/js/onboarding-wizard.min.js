/*! For license information please see onboarding-wizard.min.js.LICENSE.txt */
(()=>{"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(t,e,n){return(e=function(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=window.wpbdpOnboardingWizardVars.INITIAL_STEP,i="wpbdp-onboarding",c="wpbdp-hidden",a="wpbdp-current",u={INITIAL:o,SUCCESS:"success"},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==r(t)||null===t)throw new Error("createPageElements: initialElements must be a non-null object");var n=t;return{getElements:function(){return n},addElements:function(t){if("object"!==r(t)||null===t)throw new Error("addElements: newElements must be a non-null object");n=e(e({},n),t)}}}({onboardingWizardPage:document.getElementById("".concat(i,"-wizard-page")),container:document.getElementById("".concat(i,"-container")),rootline:document.getElementById("".concat(i,"-rootline")),steps:document.querySelectorAll(".".concat(i,"-step")),skipStepButtons:document.querySelectorAll(".".concat(i,"-skip-step")),consentTrackingButton:document.getElementById("".concat(i,"-consent-tracking")),collapsible:document.querySelector(".wpbdp-collapsible")}),l=s.getElements;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}s.addElements;var f=new URL(window.location.href),d=f.searchParams,b=function(t){return d.get(t)},v=function(t){return d.delete(t),f.search=d.toString(),f.toString()},m=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pushState",r=document.querySelector(".".concat(i,'-step[data-step-name="').concat(t,'"]'));if(r){var o=document.querySelector(".".concat(i,"-step.").concat(a));o&&(o.classList.remove(a),null==(e=o)||e.classList.add(c),o.classList.remove("wpbdp-fadein-up")),r.classList.add(a),function(t){null==t||t.classList.remove(c)}(r),r.classList.add("wpbdp-fadein-up"),l().onboardingWizardPage.setAttribute("data-current-step",t),function(t,e){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pushState";if(d.set(t,e),f.search=d.toString(),["pushState","replaceState"].includes(i)){var c=(n={},o=e,(r=function(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}(r=t))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n);window.history[i](c,"",f)}f.toString()}("step",t,n),function(t){var e=l().rootline,n=e.querySelector('.wpbdp-onboarding-rootline-item[data-step="'.concat(t,'"]'));e.querySelectorAll(".wpbdp-onboarding-rootline-item").forEach(function(t){t.classList.remove(g),t.classList.remove(a)});var r=n.previousElementSibling;if(r)for(;r;)r.classList.add(g),r=r.previousElementSibling;t===u.SUCCESS?n.classList.add(g):n.classList.add(a)}(t)}},y=function(){var t=document.querySelector(".".concat(i,"-step.").concat(a)),e=null==t?void 0:t.nextElementSibling;e&&m(e.dataset.stepName)};var g="wpbdp-completed-step",w=function(t){t.preventDefault();var e=t.currentTarget;e.classList.toggle("wpbdp-open");var n=e.nextElementSibling;n.classList.toggle(c),n.classList.toggle("wpbdp-fadein-down")};function S(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof a?r:a,s=Object.create(u.prototype);return h(s,"_invoke",function(n,r,o){var i,a,u,s=0,l=o||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,a=0,u=t,f.n=n,c}};function d(n,r){for(a=n,u=r,e=0;!p&&s&&!o&&e<l.length;e++){var o,i=l[e],d=f.p,b=i[2];n>3?(o=b===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,f.v=r,f.n=i[1]):d<b&&(o=n<3||i[0]>r||r>b)&&(i[4]=n,i[5]=r,f.n=b,a=0))}if(o||n>1)return c;throw p=!0,r}return function(o,l,b){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,b),a=l,u=b;(e=a<2?t:u)||!p;){i||(a?a<3?(a>1&&(f.n=-1),d(a,u)):f.n=u:f.v=u);try{if(s=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(p=f.n<0)?u:n.call(r,f))!==c)break}catch(e){i=t,a=1,u=e}finally{s=1}}return{value:e,done:p}}}(n,o,i),!0),s}var c={};function a(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(h(e={},r,function(){return this}),e),p=s.prototype=a.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,h(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=s,h(p,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,o,"GeneratorFunction"),h(p),h(p,o,"Generator"),h(p,r,function(){return this}),h(p,"toString",function(){return"[object Generator]"}),(S=function(){return{w:i,m:f}})()}function h(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}h=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){h(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},h(t,e,n,r)}function E(t,e,n,r,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}var j=function(){var t,e=(t=S().m(function t(e){var n,r,o,i;return S().w(function(t){for(;;)switch(t.n){case 0:return e.preventDefault(),(n=new FormData).append("action","wpbdp_onboarding_consent_tracking"),n.append("nonce",wpbdp_global.nonce),t.p=1,t.n=2,fetch(ajaxurl,{method:"POST",body:n});case 2:return o=t.v,t.n=3,o.json();case 3:r=t.v,t.n=5;break;case 4:t.p=4,i=t.v,console.error("Error:",i);case 5:if(r.success){t.n=6;break}return console.error(r||"Request failed"),t.a(2);case 6:y();case 7:return t.a(2)}},t,null,[[1,4]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function c(t){E(i,r,o,c,a,"next",t)}function a(t){E(i,r,o,c,a,"throw",t)}c(void 0)})});return function(t){return e.apply(this,arguments)}}();window.addEventListener("popstate",function(t){var e,n=(null===(e=t.state)||void 0===e?void 0:e.step)||b("step");m(n,"replaceState")});const O=function(){var t,e,n,r;t=b("step")||u.INITIAL,v("key"),v("success"),m(t,"replaceState"),n=(e=l()).onboardingWizardPage,r=e.container,n.classList.remove("wpbdp-hide-js"),r.classList.toggle("wpbdp-fadein-up"),l().skipStepButtons.forEach(function(t){t.addEventListener("click",y)}),l().collapsible.addEventListener("click",w),l().consentTrackingButton.addEventListener("click",j)};var P;P=function(){O()},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",P):P())})();