jQuery(function($){var wpbdp_admin_notification_center={notificationContainer:null,preAdminNotifications:null,adminNotifications:null,buttonNotification:null,closeButton:null,init:function(){this.notificationContainer=$(".wpbdp-bell-notifications"),this.preAdminNotifications=$(".wpbdp-notice, .wpbdp-notice:hidden"),this.adminNotifications=this.notificationContainer.find(".wpbdp-bell-notifications-list"),this.buttonNotification=$(".wpbdp-bell-notification-icon"),this.closeButton=$(".wpbdp-bell-notifications-close"),this.onClickNotifications(),this.initCloseNotifications(),this.parseNotifications(),this.handleDismissAction()},onClickNotifications:function(){wpbdp_admin_notification_center.buttonNotification.on("click",function(e){e.preventDefault(),wpbdp_admin_notification_center.notificationContainer.toggleClass("hidden")})},initCloseNotifications:function(){wpbdp_admin_notification_center.closeButton.on("click",function(e){e.preventDefault(),wpbdp_admin_notification_center.notificationContainer.addClass("hidden")})},parseNotifications:function(){if(wpbdp_admin_notification_center.preAdminNotifications.length<1)return!0;$(".wpbdp-bell-notification").show();var notifications=[],showNoficiation=!1;wpbdp_admin_notification_center.preAdminNotifications.each(function(){var notification=$(this);notification.hasClass("wpbdp-notice")&&(notifications.push('<li class="wpbdp-bell-notice '+this.classList+'">'+notification.html()+"</li>"),notification.hasClass("wpbdp-show-notice")&&(showNoficiation=!0)),notification.hasClass("wpbdp-review-notice")||notification.remove()}),notifications=wpbdp_admin_notification_center.removeDuplicates(notifications),wpbdp_admin_notification_center.adminNotifications.append(notifications.join(" ")),showNoficiation&&wpbdp_admin_notification_center.notificationContainer.removeClass("hidden")},removeDuplicates:function(arr){var uniq={};return arr.forEach(function(item){uniq[item]=!0}),Object.keys(uniq)},handleDismissAction:function(){$(document).on("click",".wpbdp-bell-notifications-list .notice-dismiss",function(e){e.preventDefault();var $button=$(this),$notice=$button.parent(".wpbdp-bell-notice"),dismissible_id=$button.data("dismissible-id"),nonce=$button.data("nonce");wpbdp_admin_notification_center.dismissNotice($notice,dismissible_id,nonce)})},dismissNotice:function($notice,notice_id,nonce){$.post(ajaxurl,{action:"wpbdp_dismiss_notification",id:notice_id,nonce:nonce},function(){$notice.fadeOut("fast",function(){$notice.remove()})})}};wpbdp_admin_notification_center.init()});