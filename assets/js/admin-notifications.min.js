jQuery(function($){var wpbdp_admin_notification_center={notificationContainer:null,preAdminNotifications:null,adminNotifications:null,buttonNotification:null,closeButton:null,init:function(){this.notificationContainer=$(".wpbdp-bell-notifications"),this.preAdminNotifications=$(".wpbdp-notice, .wpbdp-notice:hidden"),this.adminNotifications=this.notificationContainer.find(".wpbdp-bell-notifications-list"),this.buttonNotification=$(".wpbdp-bell-notification-icon"),this.closeButton=$(".wpbdp-bell-notifications-close"),this.onClickNotifications(),this.initCloseNotifications(),this.parseNotifications(),this.handleDismissAction()},onClickNotifications:function(){wpbdp_admin_notification_center.buttonNotification.on("click",function(e){e.preventDefault(),wpbdp_admin_notification_center.notificationContainer.toggleClass("hidden")})},initCloseNotifications:function(){wpbdp_admin_notification_center.closeButton.on("click",function(e){e.preventDefault(),wpbdp_admin_notification_center.notificationContainer.addClass("hidden")})},parseNotifications:function(){if(wpbdp_admin_notification_center.preAdminNotifications.length<1)return!0;var notifications=[],snackbars=[];wpbdp_admin_notification_center.preAdminNotifications.each(function(){var notification=$(this);return!notification.hasClass("wpbdp-upgrade-bar")&&(notification.hasClass("wpbdp-notice")&&(notification.hasClass("wpbdp-snackbar-notice")?snackbars.push(notification.html()):notifications.push('<li class="wpbdp-bell-notice '+this.classList+'">'+notification.html()+"</li>")),void(notification.hasClass("wpbdp-review-notice")||notification.remove()))}),notifications=wpbdp_admin_notification_center.removeDuplicates(notifications),snackbars=wpbdp_admin_notification_center.removeDuplicates(snackbars),wpbdp_admin_notification_center.adminNotifications.append(notifications.join(" ")),notifications.length>0&&($(".wpbdp-bell-notification").show(),wpbdp_admin_notification_center.notificationContainer.removeClass("hidden")),snackbars.length>0&&snackbars.forEach(function(value,index,array){wpbdp_admin_notification_center.generateSnackBar(value)})},generateSnackBar:function(notification){var id=Date.now(),container_id="wpbdp-snackbar-"+id,snackbar=$("<div>",{id:container_id,"class":"wpbdp-snackbar"});snackbar.html(notification),$("body").append(snackbar),setTimeout(function(){snackbar.remove()},2500)},removeDuplicates:function(arr){var uniq={};return arr.forEach(function(item){uniq[item]=!0}),Object.keys(uniq)},handleDismissAction:function(){$(document).on("click",".wpbdp-bell-notifications-list .notice-dismiss",function(e){e.preventDefault();var $button=$(this),$notice=$button.parent(".wpbdp-bell-notice"),dismissible_id=$button.data("dismissible-id"),nonce=$button.data("nonce");wpbdp_admin_notification_center.dismissNotice($notice,dismissible_id,nonce)}),$(document).on("click",".wpbdp-snackbar .notice-dismiss",function(e){e.preventDefault();var $button=$(this),$notice=$button.parent(".wpbdp-bell-notice"),dismissible_id=$button.data("dismissible-id"),nonce=$button.data("nonce");wpbdp_admin_notification_center.dismissNotice($notice,dismissible_id,nonce)})},hideNotificationCenter:function(){wpbdp_admin_notification_center.adminNotifications.find("li").length<1&&(wpbdp_admin_notification_center.notificationContainer.addClass("hidden"),$(".wpbdp-bell-notification").hide())},dismissNotice:function($notice,notice_id,nonce){$.post(ajaxurl,{action:"wpbdp_dismiss_notification",id:notice_id,nonce:nonce},function(){$notice.fadeOut("fast",function(){$notice.remove()})})}};wpbdp_admin_notification_center.init()});