=== Business Directory Plugin ===
Contributors: businessdirectoryplugin
Donate link: https://businessdirectoryplugin.com/premium-modules/
Tags: business directory, directory plugin, company business directory, chamber of commerce business directory, church directory, address book, contact directory, custom business directory, local business directory, listings directory, link directory, member directory, staff directory
Requires at least: 4.3
Requires PHP: 5.6
Tested up to: 4.9
Last Updated: 2018-Feb-13
Stable tag: 5.1.7
License: GPLv2 or later

Build any kind of local directory, directory of business providers, a Yellow-Pages business directory, Yelp-like review directory and much more! 

== Description ==

[Main Site](https://businessdirectoryplugin.com/) | [Support](https://businessdirectoryplugin.com/support-forum/) | [Docs](https://businessdirectoryplugin.com/knowledge-base/) | [Showcase](https://businessdirectoryplugin.com/showcase/) | [Premium Modules](https://businessdirectoryplugin.com/premium-modules/)

Business Directory Plugin is the most popular, versatile, widely-installed, easiest to use, and best-supported WordPress Business Directory plugin available.  Increase interaction on your website, improve customer retention and a add revenue-generating section to your site with Business Directory Plugin!

Business Directory Plugin allows you to build a local directory, directory of business providers, a Yellow-Pages style business directory, Yelp-like review sections, create a church directory, build an address book directory and much more.  You can add any kind of directory using Business Directory plugin.

= Core plugin Features =
All [features](https://businessdirectoryplugin.com/features/) documented on the main website.
* Fully customizable form fields
* Upload images per listing, allow restricted numbers of images based on fee plan
* Lots of image options:  drag and drop image uploads, easy image ordering, primary image settings, thumbnail sizing and more
* Accept payment for listings OR have free listings in your business directory
* Accept payments using Authorize.net (requires Authorize.net account)
* Full support for recurring payments (in most gateways: PayPal, Authorize.net, Stripe)
* Allow for featured/sticky listings for an upgrade fee
* Widgets for Featured, Latest and Random listings.  Search widget as well
* Create multiple fee plans, which can be assigned to categories for posting
* Built in CSV import and export
* Support for reCAPTCHA to avoid spam listings
* Sorting options for categories, listings, and front-end for users to choose sort order
* Users who post can edit listings without access to WP dashboard
* SEO Friendly using Yoast SEO
* Configurable quick-search field and sorting bar for listings
* Advanced search screen with ability to show/hide fields available for search
* FULL responsive support when installed with a responsive theme 
* Multi-language support in your directory with WPML
* Ability to re-skin the directory with a few clicks (directory themes)
* Integrates with popular plugins like Yoast SEO, NavXT Breadcrumbs and WP-PageNavi for easy use
* Images displayed with categories (using the FREE Enhanced Categories module)
* Display Category Icons/Allow Parent-Child Category Navigation (using the FREE Enhanced Category Module)

= Additional Add-on Features available from Premium Modules (paid) =
* Rate businesses in your directory (now with Schema.org microformat support) (using the (paid) Ratings Module)
* Display the location of the business (categories, search, details--now with custom map sizes) (using the (paid) Google Maps Module)
* Location based directory result filtering (using the (paid) Regions Module)
* ZIP code/postal code radius searches supporting a number of countries (using the (paid) ZIP Search Module)
* Assign features to paid or sticky listing plans to give users incentive to upgrade (using the (paid) Featured levels module)
* Allow users to upload PDFs (using the (paid) Attachments Module)
* Manage attachments on directory listings (using the (paid) Attachments module, supports PDF, Text files, images)
* Accept payments using PayPal (using the (paid) PayPal Gateway Module)
* Accept payments using Stripe (using the (paid) Stripe Gateway Module)
* Accept payments using PayFast (using the (paid) PayFast Gateway Module)
* Post claimable listings in your business directory that other users can pay (or not) to claim (using the (paid) Claim Listings Module) 
* Ability to offer discount codes based on a % or fixed amount with expirations (using the (paid) Discount Codes Module) 

For a complete and detailed list of features, please visit:  https://businessdirectoryplugin.com/features/
 
Please report any bugs you find via https://businessdirectoryplugin.com/support-forum/  

= Premium Module Links: =
These are optional, paid modules that you can use to enhance Business Directory Plugin's functionality and
support future development:

= Premium Directory Skins (Paid) =
* [Theme Pack](https://businessdirectoryplugin.com/downloads/business-directory-theme-pack/?ref=wp) (best deal!)
* [Business Card Theme](https://businessdirectoryplugin.com/downloads/business-card-theme/?ref=wp)
* [Tabbed Business Theme](https://businessdirectoryplugin.com/downloads/tabbed-business-theme/?ref=wp)
* [Elegant Business Theme](https://businessdirectoryplugin.com/downloads/elegant-business-theme/?ref=wp)
* [Mobile Compact Theme](https://businessdirectoryplugin.com/downloads/mobile-compact-theme/?ref=wp)
* [Restaurant Theme](https://businessdirectoryplugin.com/downloads/restaurant-theme/?ref=wp)

= Feature Add On Modules (Paid) =
* [Combo Pack](http://businessdirectoryplugin.com/downloads/business-directory-combo-pack-module/?ref=wp) (best deal!)
* [File Upload Module](https://businessdirectoryplugin.com/downloads/file-attachments-module/?ref=wp)
* [Featured Levels Module](https://businessdirectoryplugin.com/downloads/featured-levels-module/?ref=wp)
* [ZIP Code Search Module](https://businessdirectoryplugin.com/downloads/zip-search-module/?ref=wp)
* [Regions Module](https://businessdirectoryplugin.com/downloads/regions-module/?ref=wp)
* [Ratings Module](https://businessdirectoryplugin.com/downloads/ratings-module/?ref=wp)
* [Google Maps Module](https://businessdirectoryplugin.com/downloads/google-maps-module/?ref=wp)
* [Discount Codes Module](https://businessdirectoryplugin.com/downloads/discount-codes-module/?ref=wp)
* [Claim Listings Module](https://businessdirectoryplugin.com/downloads/claim-listings-module/?ref=wp)

= Payment Gateway Modules (Paid) =
* [Stripe Gateway Module](https://businessdirectoryplugin.com/downloads/stripe-payment-module/?ref=wp)
* [PayPal Gateway Module](https://businessdirectoryplugin.com/downloads/paypal-gateway-module/?ref=wp)
* [2Checkout Gateway Module](https://businessdirectoryplugin.com/downloads/2checkout-gateway-module/?ref=wp)
* [PayFast Gateway Module](https://businessdirectoryplugin.com/downloads/payfast-payment-module/?ref=wp)

For more information and support please visit [https://businessdirectoryplugin.com](https://businessdirectoryplugin.com?ref=wp)
For Business Directory plugin support please visit [https://businessdirectoryplugin.com/forums](https://businessdirectoryplugin.com/forums)

If you love Business Directory plugin, [please consider purchasing a Premium Module](https://businessdirectoryplugin.com/premium-modules/?ref=wp)!

Business Directory fully supports [WPML](http://wpml.org) for dynamic language switching.  But if you need just one single language, we include and support these out of the box!
= Languages Supported =
* Spanish
* French
* German
* Russian
* Polish
* Arabic
* Swedish

And you can easily [translate it yourself](https://businessdirectoryplugin.com/knowledge-base/translating-bd-other-language/) if you need to.

== Credits ==
Copyright 2009-18, Dave Rodenbaugh 
Original Author: A. Lewis

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA



== Installation ==
Please see our detailed [Installation Guide](https://businessdirectoryplugin.com/knowledge-base/installation-guide/), the [Getting Started Guide](https://businessdirectoryplugin.com/article-categories/getting-started/) for common how-to scenarios, and our [Initial Setup](https://businessdirectoryplugin.com/knowledge-base/installation-guide/) page for instructions on how to get going quickly with Business Directory Plugin.

[Full documentation](https://businessdirectoryplugin.com/knowledge-base/) for the plugin is also available.

If you are having problems please visit [support forum](http://www.businessdirectoryplugin.com/support-forum/) for help or you may [contact us](http://www.businessdirectoryplugin.com/contact/).


== Screenshots ==

[Visit the main site for feature lists and screenshots](https://businessdirectoryplugin.com/features/)


== Changelog ==
= Version 5.1.7 =
* Update German translation.
* Show an indicator when listings are created without a fee plan.
* Update error message when trying to change from/to URL or Image field types.
* Form Fields on Submit listing and Preview Form now use all available width.
* Submit listing now supports requiring at least one image is uploaded.
* Remove 'Please select a category' error that appears incorrectly.
* Prevent extra images from appearing when main image is deleted.
* Fix uncaught Exception error on Listing Subscription.
* Set a Listing as 'Featured' when it's fee plan 'Is featured listing/sticky?' setting is updated.
* Update documentation links in plugin admin interface.
* Prevent URL form field inputs from been hidden or out of container in submit/edit view.
* Prevent form from been cleared when changing plan during Submit.
* Add support for 'multipart/alternative' Content-Type in emails.
* Include “Select All” option in Checkbox fields.
* Add admin notices when a fee plan doesn’t meet requirements to be set as recurring.
* Update listing information metabox according to plan change.
* Make Listing's Access Key available to email templates through the new [access_key] placeholder.

= Version 5.1.6.1 =
* Fixed issue where PHP versions earlier than 5.6 had fatal error in flagging

= Version 5.1.6 =
* Add support to require that one image is uploaded with a listing.
* Add Flag Listing feature.
* Use plugin/module version to register scripts and styles.
* Fix error in renewal email.
* Fix incorrect translation to French for "Disable advanced CPT integration" setting.
* Prevent more than one filter set as "current" in Directory list.
* Improve behavior of TinyMCE editor on Submit and Edit Listing views.
* Remove the ability to edit the “Featured” status from “Listing Information” metabox.
* Restore Renew Listing and Manage Recurring Payments views.
* Add “for” attribute to radio buttons “label” tags in settings page.
* Reduce number of requests to get version information and check for license status.
* If you configured the plugin to send copy (CC) of admin notifications to a different email address, the Claim Listing notification messages will now be send to that other address as well.

= Version 5.1.5 =
* Add deprecation comment for login-required template.
* Fix PHP warnings and notices on Add New Listing admin screen.
* Fix PHP Fatal error on Payments API.
* Render 3rd party shortcodes on All Listings & Search views.
* Update Manage Listings View to support Login URL setting.
* Update store URL to use HTTPS.

= Version 5.1.4 =
* Fix SQL errors on functions that configured views for Directory admin screen.
* Prevent SQL trying to count number of listings on categories and regions.
* Fix: Navigating away from Edit Listing causes categories to be lost.
* Fix PHP warnings and notices on Add New Listings.
* Do not allow title, content and category fields to be marked as private.

= Version 5.1.3 =
* Add error message for revoked licenses.
* Fix support for cyrillic characters in taxonomies slugs.
* Do not change button padding if BD buttons style is disabled.
* Fix JavaScript problem in E-mail Templates settings page.
* Show indicator for required fields in Search form.
* Restore abandoned payment email notification.
* Allow users to restart abandoned payments.
* Workaround missing `tag` column in `wpbdp_payments` table.
* Add 'Send access keys' bulk action.
* Update Spanish translation to include 100% of strings.
* Add a CSS class for category id on list view.
* Fix Date fields not working properly on Search.
* Add Publish listings, Mark as pending review, Hide from directory bulk actions.
* Restore post views on Manage Listing admin screen.
* Display listing status as attribute in the attribute column.
* Update Swedish translations.
* Restore support for HTML in field descriptions.
* Make sure admin receives the exact same contact e-mail as owners.
* Fix required validator for multiselct, radio and checkbox fields.
* Add wpbdp-listing-category-id-[ID] CSS class to listings on Listings view.
* Add support for private fields for listings.
* Allow content fields to be truncated on excerpt view.
* Fix listing's admin URL in some notification e-mails.
* Fix search by username on Manage Listings.
* Add back the confirmation message for settings reset.
* Update code to fix attachment's path.
* Update appearance of Add Attachment form.
* Update French translation.
* Update Claim Listings module to support Login URL setting.
* Automatically strip leading and trailing spaces when the value for the Google Maps API key setting is saved.
* Fix Migrate plugin to work without Regions.
* Update code used to verify PayPal IPNs.
* Make 'Post Your Review' form visible on all devices.
* Fix error that caused recurring listings not to be renewed even though payment was received.
* Allow users to restart abandoned payments.
* Now admins can choose ZIP code search modes.
* Show full path to 'db' directory on ZIP Code Search.
* Added support for Brazil's postal codes.

= Version 5.1.2 =
* Do not automatically select the first available category during listing submit.
* Do not show payment receipt at the end of the submit process when listing is free.
* Skip plan selection when there's only one plan available.
* Do not show "Continue to Payment" label when directory is in free mode.
* Add some compatibility code to prevent fatal errors when using the Facebook Open Tags plugin.

= Version 5.1.1 =
* Improve format detection for expiration dates on CSV imports.
* Updated French translation.
* Fix support for reCAPTCHA for listing submits.
* Fix PHP notice in checkout view.
* Execute admin views in a more adequate hook.

= Version 5.1 =
* Update CSV import & export to include/support fee plan information.
* Allow multiple manual upgrades to be executed together.
* Add hooks for customization of the contact form.
* Add support for admin/customer renewal notification.
* Add a post status filter to the backend.
* Show "Listing Instructions" during submit. 
* Allow admins to upload images on the backend even for listings with no associated plan.
* Allow admins to sort listings according to fee plan ordering.
* Prevent number_format() expects parameter 1 to be float warning.
* Hide submit's "Listing Images" section when images are globally disabled.
* Fix PHP warnings when running on PHP 5.2. 
* Do not export rating values during CSV exports.
* Fix PHP warning when choosing an image as the listing's thumbnail on the backend.
* Fix a problem detecting listings associated to a given e-mail when using access keys.
* Make sure database options are returned with the correct PHP type.
* Dispatch admin views earlier to fix "headers already sent" PHP errors.
* Prevent listings from being marked as "Featured" on the backend even when their plan doesn't have this flag.
* Fix false validation errors on Date fields.
* Save image meta (caption, position) correctly during submit.

= Version 5.0.5 =
* Add support to assign listing's fee plan during import.
* Twitter field accepts Twitter handles only; no URLs are allowed. Now is not possible to add a URL validator to this field.
* Fix JavaScript conflict with AWPCP.
* Improved Uninstall workflow.
* Fix a bug that caused region data to be ignored during import.
* Update appearance of fee plans in Submit Listing view.
* Fix a bug that made it impossible to edit email templates that included HTML tags.
* Make sure 'flat' is always the pricing model for the free plan.
* Do not show "Continue to Payment" if the Directory is in free mode.

= Version 5.0.4 =
* Correct priority of translation loading for premium modules.
* Workaround a WP bug affecting hook names for sites using translations (https://core.trac.wordpress.org/ticket/18857)
* Fix Featured Listings shortcodes.
* Update CSV import & export icons.
* Change e-mail subject for default expiration notices.
* Move "Uninstall" link back to a menu item.

= Version 5.0.3 =
* Support WPML integration during Ajax requests.
* Fix a problem in single-select category selector.
* Fix encoding problem with redirect_to argument in Login view.
* Listings can now be renewed before they expire.
* Show registration and password reminder links in login form again.
* Support migration from very old versions of BD.
* Remove upgrade/downgrade to featured from bulk actions.
* Fix bug that caused translation files for modules not to be loaded.
* Allow WPML to translate fee descriptions.
* Allow plugins to modify the settings callback on the admin.

= Version 5.0.2 =
* Fix load_textdomain() in WPBDP class.
* Fix 'Undefined index: regions-slug' notice.
* Fix behavior of fees table in Manage Fees.
* Add integration for Advanced Excerpt plugin.
* Add warning about PHP version requirements.
* Update translation files for French.
* Fix error that prevented "Preview Form" from working.
* Fix compatibility issue that prevented Regions module from working correctly.
* Fix some problems with the renewal process.
* Update message shown for license activation errors.

= Version 5.0.1 =
* Fix link generation bug in WPML integration.
* Do not disable "Choose One" option on search for single-valued selects.
* Fix Fatal error in PHP 7.1 when too few arguments are passed to one of the plugin functions.
* Prevent PHP Warning "Invalid argument supplied for foreach()" in Query Integration class.
* Fix "Fatal error: Cannot create references to elements of a temporary array expression" from PHP 5.4 to allow users to see they're on an old PHP.
* Prevent a Fatal error caused by Featured Levels 4.x during manual upgrade

= Version 5.0 =
* Added support for new fee plan pricing models: flat price, category-based, base + extra amount per category
* Added a new Payments screen to manage all payments.
* When sorting listings using the paid/free option, the paid amount is now taken into consideration.
* Completely redesigned category and fee plan selection.
* Listing statuses and attributes have been redesigned for improved UX on the backend.
* Listing expiration date is now shown as a column on the backend.
* Listings submitted by anonymous users can now be edited/renewed using Access Keys.
* Added support for creating an account during listing submit.
* Listing now have just one fee plan associated to them instead of one per category
* Listing renewal now keeps the featured flag. (#634)
* Listings can now have different background colors depending on their fee plan.
* Added normalized CSS classes and IDs for listing views.
* Redesigned listing information metabox.
* Completely redesigned listing submit workflow using AJAX.
* Added a "Timeline" metabox on the backend to clearly see a listing's history.
* Admins can now create any number of listing expiration/reminder notices.
* Simplify how premium modules integrate into BD.
* Added businessdirectory-quick-search shortcode to display the Quick Search form.
* Added warning when reaching the image limit during listing submit/edit.
* Allow users to edit categories for their listing if the plan allows it.
* Added option to sort listings using the configured sort for their fee plans.
* Added several hooks to allow adding content during the submit process and in other templates.
* Allow admins to mark some fields as required for searching.
* Added a more reliable cron implementation for scheduled events.
* Refreshed the Settings API implementation to increase speed, reduce queries and add validation support.
* Redesigned the settings screen for better UX.
* Increased reliability of upgrades.
* Added a new log mechanism for better debugging.
* Updated the premium module initialization API.
* License and update checking has been merged to cover both themes and premium modules, reducing external requests.

= Version 4.1.15 =
* Fix 404 Not Found error for categories URLs that occurred when WPML was installed and configured to use a query parameter to define the language of the website.
* Empty strings are not allowed as categories and tags slugs.
* Doing a Factory Settings Reset no longer removes license keys for premium modules.
* Prevent infinite recursion conflict with Postman.
* Allow execution of shortcodes in excerpt fields.
* Remove pagination links from listings shortcode.
* Add wpbdp_get_page_ids filter.
* Fix feed links for all listings and categories.
* Show license-related warnings to administrators only.

= Version 4.1.14.1 =
* Update to fix uploader class

= Version 4.1.14 =
* Correct CSS classes for secondary buttons.
* Prevent listing title from being cleared during import.
* Always show 'number of options visible without scrolling' setting in Add/Edit form field screen.
* Fix import error caused by ampersands in category names.
* Fix behavior for not found URLs.
* Fix search form behavior and region filter issues.
* Correct CSS classes for some primary buttons.
* Use checkboxes for Quick Search Fields setting.
* Replace dropdowns with four or less options with a list of radio buttons.
* Register non-persistent groups after switchgin blogs.
* Prevent listings from being published before payment is completed.
* We now have more descriptive error messages for license issues.
* Fix inconsistent strings and button labels.
* Prevent creation of multiple listings in submit-listing shortcode.
* Fix inconsistent strings and button labels.
* Fix compatibility issue with jQuery 3.2.1.

= Version 4.1.13.2 =
* Fix buttons in main box ignoring settings.
* Restore missing Country part in address field.

= Version 4.1.13.1 =
* Fix theme compatibility problems introduced in 4.1.13.

= Version 4.1.13 =
* Add shortcode to output Quick Search.
* Added shortcode for displaying the latest listings.
* Added shortcode for displaying a random set of featured listings.
* Added shortcode for displaying a random set listings.
* Prevent PHP Warning in show_tag.php.
* Prevent CSFR exploit that could allow attackers to upload images to the Media Library.
* Do not set contenteditable to false on Firefox when handling setting dependencies.
* Fix JavaScript error due to necessary script not loaded.
* Improve performance of CSV Importer.
* Update Swedish translation for BD.
* Fix bug in code that generates search queries SQL.
* Fix format for address field in themes.
* Fix conflict with WPML caused by WP bug 40906.

= Version 4.1.12.1 =
* Backward compatibility fix for ZIP search--module update order problem

= Version 4.1.12 =
* Report versions of installed premium modules on debug info page.
* Make non-required SELECT fields actually optional (no option selected by default).
* Show a message on the frontend when the directory is not available due to a pending manual upgrade.
* Fix conflict between BD and latest Breadcrumbs NavXT.
* Send NEW listing's published notification to the right address.
* Add compatibility patch for Ultimatum theme.

= Version 4.1.11.1 =
* Repaired badly botched release in SVN due to file sync issues

= Version 4.1.11 =
* Show server's IP address in Licenses settings tab.
* Show two columns of categories by default.
* Replace fees table with responsive list of fees.
* Add Moroccan Dirham (MAD) currency to Payment settings.
* Fix translation support in Billing Form.
* Fix preview links when the no-id-in-link setting is disabled.

= Version 4.1.10 =
* Improve responsive behaviour of categories list.
* Update PayPal module to comply with PayPal's security upgrade.
* Fix sticky behavior for listings posted with recurring payments.
* Update behavior of listings that are sticky in a particular fee/category.
* Fix previews (when listing has no slug set).
* Toggle "wpbdp-hide-on-mobile" class when clicking contact form button..
* Fix bug that prevented bulk edit actions from working.
* Fix PHP notices in Current Images section in Edit Listing page.
* Restore support for shortcodes in posts.
* A listings is now considered paid only if currently associated with a paid fee.
* ABC filter URLs will now point to the first page.
* Update compatibility code for Breadcrumb NavXT.
* Fix bug that caused HTML entities to appear in e-mail subjects.
* Update German translation.

= Version 4.1.9 =
* Add support to export listings that include Unicode characters.
* Avoid passing $this by reference in apply_filter_ref_array() for PHP 7.1.
* Fix French translation for Tag and Category.
* Show error in Submit Listing view if required fields are missing.
* Fix typo: 'sucessfully' -> 'successfully'.
* Fix sticky behavior for listings posted with recurring payments.
* Improve security of listing image uploading.
    
= Version 4.1.8 =
* Do not generate HTML for Facebook field if the value is empty.
* Fix a bug that caused Authorize.Net Gateway to build the Credit Card expiration date using the first two digits of the expiration year, instead of the last two.
* Fix Fatal Error trying to render excerpt for textarea fields.
* Allow admins to disable the CSS rules for listing action buttons.
* Fix search problem that occurs when form field used in the Quick Search feature is deleted.
* Update link to reCAPTCHA's website.
* Fix Author dropdown in Bulk Edit form for Listings to include the - No Change - option again.
* Remove fuzzy tags from all translation files, making more translations available.
* WPML integration: fix bug that caused different versions of the same listings to show up in widgets.
* Generate better URLs to improve compatibility with WPML.
* Fix routine to clean metadata for Checkbox, Radio and Select fields.
* Add "country" as a new theme tag.
* Fix PHP warning triggered when no update information could be retrieved during an update check.
* Update JS code to latest jQuery standards.
* Add `wpbdp_should_enqueue_scripts_and_styles` filter to allow third parties to force inclusion of BD scripts and styles.
* Improve appearance of Region archives.
* Fix French translation for Tag and Category.
* Fix typo in WPBDP_Plugin.

= Version 4.1.7 =
* Fix 'Include comment form on listing pages' setting to store the proper value.
* Avoid PHP Warning when field value includes '%'.
* Use an array to pass headers to wp_mail in Email class.
* Increase importance of rules in .wpbdp-show-on-mobile CSS class.

= Version 4.1.6 =
* Fix error in migration routine affecting multivalued fields on some sites.
* Introduce new setting for comment handling to prevent duplicate comment forms.
* Review compatibility with WordPress 4.7.
* Fix preview links for admins.
* Fix a problem with URL redirection to custom login pages.
* Accept one option per line (including commas) as part of a multivalued field options.
* Improve Schema.org integration
* Add Swedish translation.
* Add CSS fix for quick search box.

= Version 4.1.5 =
* Add support for template block/variable metadata in PHP comments.
* Fix support for template variables customization outside of themes.
* Fix an error that resulted in the WP comment form appearing twice.
* Fix a path resolving issue that resulted in an incorrect template being loaded under certain circumstances.
* Support transliteration of arabic characters when normalizing field names for CSS, CSV export/import, etc.
* Make some CSS selectors more specific to prevent conflicts. 
* Allow users to control the size of the list in Multiselect form fields.
* Add phone and email fields to billing information form.
* Make Authorize.net gateway use e-mail and phone number properties from the billing form.
* Allow Editor user to Preview listings.
* Improve performance of search queries that involve listing metadata.
* Fix an issue with Form Fields options that caused selected values to show up unselected for some fields.
* Add contact form message that wasn't being marked as translatable.
* Unify gettext contexts for "Submit A Listing" view title.

= Version 4.1.4 =
* Automatically load translation files from themes.
* Improve performance for BD premium modules update checks on plugin page.
* Custom themes (not developed by BD) can be used without a license.
* Add showsearchbar parameter to business-directory-manage-listings shortcode.
* Fix support for '&' in tag names.

= Version 4.1.3 =
* Improve appearance of search button on Advanced Search form.
* Remove carriage-return characters from options in multivalued fields.
* Load jQuery-UI stylesheet using a secure connection.
* Fix Edit and Delete links on the backend for the Contributor role.
* Improve error handling during installation.
* Minor fix to searches involving URL fields.
* Fix meta tag generation when CPT Advanced Integration is disabled.

= Version 4.1.2 =
* Fix meta tag generation when CPT integration is disabled.
* Add option to display single view in a new browser tab/window
* Fix typo in French translation.
* Improve behavior of "Preview" button on listings backend.
* Add some missing translatable strings.
* Fix for search form not working when permalinks were disabled.
* Fix shortcode execution in content fields under certain circumstances.
* Fix fatal error trying to create a category in CSV Import.
* Add rewrite rules for feed URLs for categories and tags

= Version 4.1.1 =
* Fix searching involving multivalued fields.
* Re-enable user template overrides for core and theme templates
* Fix: "Show search listings" setting wasn't being honored.
* Fix searches involving category fields.
* Fix searches involving meta fields.

= Version 4.1 =
* Show width/height/size constraints for images in the image upload form.
* Allow disabling of frontend listing submission.
* Improve handling of paths on Windows systems.
* Allow fee plans to have a description that is shown during fee selection
* Add option to enable auto-generation of excerpt from listing content.
* Add backend listing URL to e-mail notifications sent to admins.
* Fix contact form toggle not working on mobile devices.
* Various improvements to search.
* New design for the quick search bar that integrates with Regions and ZIP Code Search.
	
= Version 4.0.8 =
* Added Arabic translation to core
* Some query improvements when in CPT compatibility mode.
* Work around a bug in U-Design theme.
* Improve compatibility with fullwidth template in takeawaywp theme.
* Translate some settings that were missing a translation.
* Fix comments and comment form not appearing eve when enabled.
* Fixes for mobile devices.
* Add filtering to allow overriding security policy in `wpbdp_user_can()`.
* Fallback implementation for `wpbdp_detect_encoding()` when `iconv` is not available.
* Improve security inside dispatching subsystem.
	
= Version 4.0.7 =
* Improve excerpt display on mobile devices. 
* Show themes update badge inside main menu item too.
* Improved usability for Directory Themes screen. 
* Fix some query issues when on CPT compat mode.
* Mark some strings as translatable.
* Restore the routine that handled expiration of listings.

= Version 4.0.6 =
* Compatibility fixes for Canvas theme.
* Compatibility fixes for X theme.
* Add "City" and "State" as taggable fields in themes.
* Improve display of addresses in themes.
* Fix for Featured Listings widget not honoring configured number of posts setting.
* Add "menu" attribute to listings shortcode.
* Prevent Jetpack sharing from being displayed twice on listings.
* Update admin sidebar.
* Fix minor translation omission.

= Version 4.0.5 =
* Atahualpa theme compatibility fixes.
* Use an auto-complete field instead of a dropdown for the users field on the CSV import screen to avoid performance problems.
* Several fixes for encoding detection and handling during CSV imports.
* Longevity theme compatibility fixes.
* Divi theme compatibility fixes.
* Do not show any sortbar filters when sortbar is disabled.
* Additional fixes for the Genesis theme
* Fix sorting and other query problems when in CPT compatibility mode.
* Fix search query integration with sortbar.
* Restore pre-4.0 behavior (regarding Regions and Maps) of the listings shortcode.
* Add redirects for old submit listing URLs.
* Restore tag functionality for the listings shortcode.

= Version 4.0.4 =
* Add compatibility mode that disables CPT integration for setups having issues or theme conflicts.
* Try single and singular templates along with page.php for improved theme compatibility.
* Add compatibility layer for themes.
* Genesis theme compatibility fixes.
* HMTPro5 theme compatibility fixes.
* Customizr and Customizr-Pro theme compatibility fixes.
* Prevent duplication of CSV labels for fields.

= Version 4.0.3 =
* Restore WPBUSDIRMANMANAGELISTING as a valid "Manage Listings" shortcode.
* Prevent view classes from being loaded more than one to prevent PHP strict errors.
* Improve compatibility with Graphene theme.
* Restore listing count shortcode functionality.
* Fix "Address" section appearing on default theme even when no address was available.
* Add missing ORDER BY clause resulting in "paid first" sort order not working correctly.

= Version 4.0.2 =
* Fixes for themes showing "Untitled" on some directory pages.
* Fixes for Avada theme.
* Reduce themes update checking periodicity to 48 hrs.
* Add missing argument to search form to prevent incorrect search results being returned.
* Fix to locate a replacement for page.php template for themes that don't have it.
* Fix random ordering in Featured Listings widget.
* Fix title filter for modern themes.
* Fixes for path handling on Windows environments.
* Fix some PHP warnings resulting from JSON decoding theme files.
* Do not show a 404 error for empty categories.

= Version 4.0.1 =
* Fix some PHP warnings and errors
* Fix listings shortcode category support.
* Fix search issue in Featured Listings widget.
* Fix tag pages.
* Make "Pre-4.0 Template" the default theme for upgrades from 3.x.

= Version 4.0 =
* NEW: Add support for theming the directory + 5 premium and 1 default themes.
* NEW: Added listing categories shortcode `businessdirectory-categories`.
* NEW: Better integrate with WP's main query.
* NEW: Allow reCAPTCHA to be disabled for logged-in users.
* NEW: Allow admins to add a message with instructions during submit.
* Add support for LinkedIn URLs (not just company IDs).
* Fixes for recurring payments.
* Fixes for SEO validation with Yoast.
* Fixes for new WPML functionality.
* Allow registration warning to be dismissed.
* Quick search bar fixes for mobile users.
* Add support for recurring payments for listing claims.
* Added support for HTML tags in ratings comments.
* Regions fixes for PHP 7.

= Version 3.7.5 =
* Fix queries involving featured listings to include listings made sticky by plan (not level).
* Add SSL debugging info to "Debug" page.
* Include certificate bundle for use by gateways.
* Fix some backend fee editing issues.
* Fix search form not appearing on Advanced Search in some cases.
* Compatibility test with WP 4.5
* Rename file upload JS to avoid conflicts with Visual Form Builder Pro.
* Add IFRAME support for textarea fields.

= Version 3.7.4 =
* Show WPML translations of form field labels in validation errors.
* Improve handling of line breaks in textarea fields.
* Fix handling of permalink URLs with cyrillic characters.
* Support "author" attribute in listings shortcode.
* Make CSV export encode line breaks in a way that is compatible with CSV import.
* Fix PHP warning on backend.

= Version 3.7.3 =
* Make category-specific fees work again.
* Improve the handling of deleted categories.

= Version 3.7.2 =
* Add alternative code for MIME type checking on image upload when FINFO is not available to prevent fatal errors.
* Fix fee selection on the frontend after Fees API update.
* Add warning to admins when the Directory is in paid mode and there are no fees active.
* Several minor improvements to the Fees API.

= Version 3.7.1 =
* Fixed bug where users can't change the category on listings during submit

= Version 3.7 =
* NEW:  Improved Fee admin interface
* NEW:  Allow content fields to use a WYSIWYG editor on the frontend.
* NEW:  Allow admins to search listings by username on the backend.
* NEW:  "Phone Number" field type.
* NEW:  Added Russian translation.
* Image fields now adhere to global image size restrictions.
* Fix handling of tags in select fields, during CSV imports.
* Improve CSS classes on checkout screens.
* Improve handling of line breaks in content fields.
* Improve presentation of settings pages.
* Better handle reCAPTCHA fields outside of the main page.
* Maintain Yoast SEO compatibility when title-tag is used by the theme.
* Remove Google Wallet support from the plugin.
* Use "Reply-To" header for listing contact emails.

== Usage Doc ==

For complete documentation on the plugin, please visit the [BD Documentation Site](https://businessdirectoryplugin.com/knowledge-base).  We also have a complete [FAQ Section](https://businessdirectoryplugin.com/article-categories/faqs/) and our [Quick Start](https://businessdirectoryplugin.com/article-categories/getting-started/) guide.

== Frequently Asked Questions ==

For the definitive FAQ section, please visit the [FAQ Section](https://businessdirectoryplugin.com/article-categories/faqs/), or our [Getting Started](https://businessdirectoryplugin.com/article-categories/getting-started/) guide.

= Can Business Directory Plugin support paid and free listings? =
Yes it can.  You can do this by creating fee plans for 0.00 and some other paid amount at the same time.  For more details, read [this article](https://businessdirectoryplugin.com/knowledge-base/how-to-run-bd-in-free-mode/).

= Do you have video tutorials for Business Directory Plugin? =
Yes we do.  They can be found [here](https://businessdirectoryplugin.com/video-tutorials/).

= Will Business Directory Plugin work with my theme? =
Business Directory Plugin will work with any well-written, WP 4.x compliant theme.  Generally speaking, paid themes tend to be higher quality than free ones, so we don't recommend those.

Whatever theme you pick, we recommend using the Theme Check plugin (available for free on WordPress.org) to validate how WordPress-compliant that theme actually is.  The more errors and warnings you see on the theme when you run that check, the worse the theme is.  You can read more about it here:  https://wordpress.org/plugins/theme-check/

(This plugin was developed by WP Core developers to validate their own default themes and is highly respected in the theme community)

In general, we like WooThemes as a solid company with great products and support.  You can check them out [here](http://woothemes.com)  Or [StudioPress](http://studiopress.com​​)

= Can Business Directory be translated into my language? =
Yes it can. Business Directory Plugin comes with many user-provided translations under the /languages folder. For details on how to do it, our [translation guide](https://businessdirectoryplugin.com/knowledge-base/translating-bd-other-language/) will help get you started.

= Is Business Directory Plugin compatible with WordPress Multisite (WPMU)? =
Yes it is. However, you cannot "network-activate" the plugin (as this will share the database). Activate it on only the subsites on which you need a directory.  This can be done under Plugins->Add New as the Administrator user.  Do not "network activate" BD as the "super admin".


